{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/ruitai/alpaca/frontend/src/Components/stream.js\";\n\nclass Stream extends Component {\n  constructor(props) {\n    super(props);\n    this.ws = new WebSocket('wss://data.alpaca.markets/stream');\n    this.state = {//TODO: Fill With key_id and secret_key\n    };\n  } // instance of websocket connection as a class property\n\n\n  componentDidMount() {\n    this.ws.onopen = () => {\n      // on connecting, do nothing but log it to the console\n      console.log('connected');\n    };\n\n    this.ws.onmessage = evt => {\n      // listen to data sent from the websocket server\n      const message = JSON.parse(evt.data);\n      this.setState({\n        dataFromServer: message\n      });\n      console.log(message);\n    };\n\n    this.ws.onclose = () => {\n      console.log('disconnected'); // automatically try to reconnect on connection loss\n    };\n  }\n\n  render() {\n    /*#__PURE__*/\n    _jsxDEV(ChildComponent, {\n      websocket: this.ws\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nexport default Stream;","map":{"version":3,"sources":["/home/ruitai/alpaca/frontend/src/Components/stream.js"],"names":["Stream","Component","constructor","props","ws","WebSocket","state","componentDidMount","onopen","console","log","onmessage","evt","message","JSON","parse","data","setState","dataFromServer","onclose","render"],"mappings":";;;AAAA,MAAMA,MAAN,SAAqBC,SAArB,CAA+B;AAC3BC,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAQlBC,EARkB,GAQb,IAAIC,SAAJ,CAAc,kCAAd,CARa;AAEd,SAAKC,KAAL,GAAa,CACT;AADS,KAAb;AAGH,GAN0B,CAQ3B;;;AAGAC,EAAAA,iBAAiB,GAAG;AAChB,SAAKH,EAAL,CAAQI,MAAR,GAAiB,MAAM;AACvB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACC,KAHD;;AAKA,SAAKN,EAAL,CAAQO,SAAR,GAAoBC,GAAG,IAAI;AAC3B;AACA,YAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,GAAG,CAACI,IAAf,CAAhB;AACA,WAAKC,QAAL,CAAc;AAACC,QAAAA,cAAc,EAAEL;AAAjB,OAAd;AACAJ,MAAAA,OAAO,CAACC,GAAR,CAAYG,OAAZ;AACC,KALD;;AAOA,SAAKT,EAAL,CAAQe,OAAR,GAAkB,MAAM;AACxBV,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EADwB,CAExB;AAEC,KAJD;AAMH;;AAEDU,EAAAA,MAAM,GAAE;AACJ;AAAA,YAAC,cAAD;AAAgB,MAAA,SAAS,EAAE,KAAKhB;AAAhC;AAAA;AAAA;AAAA;AAAA;AACH;;AAlC0B;;AAqC/B,eAAeJ,MAAf","sourcesContent":["class Stream extends Component {\n    constructor(props){\n        super(props);\n        this.state = {\n            //TODO: Fill With key_id and secret_key\n        }\n    }\n\n    // instance of websocket connection as a class property\n    ws = new WebSocket('wss://data.alpaca.markets/stream')\n\n    componentDidMount() {\n        this.ws.onopen = () => {\n        // on connecting, do nothing but log it to the console\n        console.log('connected')\n        }\n\n        this.ws.onmessage = evt => {\n        // listen to data sent from the websocket server\n        const message = JSON.parse(evt.data)\n        this.setState({dataFromServer: message})\n        console.log(message)\n        }\n\n        this.ws.onclose = () => {\n        console.log('disconnected')\n        // automatically try to reconnect on connection loss\n\n        }\n\n    }\n\n    render(){\n        <ChildComponent websocket={this.ws} />\n    }\n}\n\nexport default Stream;"]},"metadata":{},"sourceType":"module"}