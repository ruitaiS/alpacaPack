{"ast":null,"code":"class API {\n  constructor(key_id, secret_key, url) {\n    this.key_id = key_id;\n    this.secret_key = secret_key;\n    this.url = url;\n  } //https://alpaca.markets/docs/api-documentation/api-v2/account/\n\n\n  account(callback) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('GET', `${this.url}/v2/account`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    xhr.send();\n  } //Order Related Documentation & Functions\n  //Example of JSON order\n  //https://alpaca.markets/docs/trading-on-alpaca/orders/\n  //List of required parameters\n  //https://alpaca.markets/docs/api-documentation/api-v2/orders/\n\n\n  get_orders(callback) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('GET', `${this.url}/v2/orders`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    xhr.send();\n  }\n\n  buy(callback, ticker, qty, type, time_in_force) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('POST', `${this.url}/v2/orders`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    let order = {\n      \"side\": \"buy\",\n      \"symbol\": {\n        ticker\n      },\n      \"qty\": {\n        qty\n      },\n      \"type\": {\n        type\n      },\n      \"time_in_force\": {\n        time_in_force\n      }\n    };\n    xhr.send(JSON.stringify(order));\n  }\n\n  sell(callback, ticker, qty, type, time_in_force) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('POST', `${this.url}/v2/orders`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    let order = {\n      \"side\": \"sell\",\n      \"symbol\": {\n        ticker\n      },\n      \"qty\": {\n        qty\n      },\n      \"type\": {\n        type\n      },\n      \"time_in_force\": {\n        time_in_force\n      }\n    };\n    xhr.send(JSON.stringify(order));\n  } //This cancels all orders - see second link above for ways to cancel specific orders\n\n\n  cancel(callback) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('DELETE', `${this.url}/v2/orders`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    xhr.send();\n  } //Position Related Documentation & Functions\n  //https://alpaca.markets/docs/api-documentation/api-v2/positions/\n  //https://alpaca.markets/docs/api-documentation/api-v2/positions/#position-entity\n\n\n  get_positions(callback) {\n    let xhr = new XMLHttpRequest();\n    xhr.addEventListener('load', () => callback(xhr.responseText));\n    xhr.open('GET', `${this.url}/v2/positions`);\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id);\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key);\n    xhr.send();\n  } //Functions for Updating Login Parameters\n  //These may be depreciated, since now we just create a new instance of API on connect\n\n\n  idChange(key_id) {\n    this.key_id = key_id;\n  }\n\n  skChange(secret_key) {\n    this.secret_key = secret_key;\n  }\n\n  urlChange(url) {\n    this.url = url;\n  }\n\n}\n\nexport default API;","map":{"version":3,"sources":["/home/ruitai/alpaca/frontend/src/Components/apiHandler.js"],"names":["API","constructor","key_id","secret_key","url","account","callback","xhr","XMLHttpRequest","addEventListener","responseText","open","setRequestHeader","send","get_orders","buy","ticker","qty","type","time_in_force","order","JSON","stringify","sell","cancel","get_positions","idChange","skChange","urlChange"],"mappings":"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","sourcesContent":["\n\nclass API {\n  constructor(key_id, secret_key, url) {\n    this.key_id = key_id\n    this.secret_key = secret_key\n    this.url = url\n  }\n\n\n  //https://alpaca.markets/docs/api-documentation/api-v2/account/\n  account(callback){\n    let xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', ()=>callback(xhr.responseText))\n    xhr.open('GET', `${this.url}/v2/account`)\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n    xhr.send()\n  }\n\n    //Order Related Documentation & Functions\n\n    //Example of JSON order\n    //https://alpaca.markets/docs/trading-on-alpaca/orders/\n\n    //List of required parameters\n    //https://alpaca.markets/docs/api-documentation/api-v2/orders/\n\n\n\n  get_orders(callback){\n      let xhr = new XMLHttpRequest()\n      xhr.addEventListener('load', ()=>callback(xhr.responseText))\n      xhr.open('GET', `${this.url}/v2/orders`)\n      xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n      xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n      xhr.send()\n  }\n    \n  buy(callback, ticker, qty, type, time_in_force){      \n    let xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', ()=>callback(xhr.responseText))\n    xhr.open('POST', `${this.url}/v2/orders`)\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n\n    let order = {\n      \"side\" : \"buy\",\n      \"symbol\": {ticker},\n      \"qty\" : {qty},\n      \"type\": {type},\n      \"time_in_force\": {time_in_force}\n    }\n\n    xhr.send(JSON.stringify(order))\n  }\n  \n  sell(callback, ticker, qty, type, time_in_force){\n    let xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', ()=>callback(xhr.responseText))\n    xhr.open('POST', `${this.url}/v2/orders`)\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n\n    let order = {\n      \"side\" : \"sell\",\n      \"symbol\": {ticker},\n      \"qty\" : {qty},\n      \"type\": {type},\n      \"time_in_force\": {time_in_force}\n    }\n\n    xhr.send(JSON.stringify(order))\n  }\n\n  //This cancels all orders - see second link above for ways to cancel specific orders\n  cancel(callback){\n    let xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', ()=>callback(xhr.responseText))\n    xhr.open('DELETE', `${this.url}/v2/orders`)\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n    xhr.send()\n  }\n\n  //Position Related Documentation & Functions\n  //https://alpaca.markets/docs/api-documentation/api-v2/positions/\n  //https://alpaca.markets/docs/api-documentation/api-v2/positions/#position-entity\n  get_positions(callback){\n    let xhr = new XMLHttpRequest()\n    xhr.addEventListener('load', ()=>callback(xhr.responseText))\n    xhr.open('GET', `${this.url}/v2/positions`)\n    xhr.setRequestHeader(\"APCA-API-KEY-ID\", this.key_id)\n    xhr.setRequestHeader(\"APCA-API-SECRET-KEY\", this.secret_key)\n    xhr.send()\n  }\n\n\n\n  //Functions for Updating Login Parameters\n  //These may be depreciated, since now we just create a new instance of API on connect\n  idChange(key_id){\n    this.key_id = key_id\n  }\n\n  skChange(secret_key){\n    this.secret_key = secret_key\n  }\n\n  urlChange(url){\n    this.url = url\n  }\n\n}\n\nexport default API;"]},"metadata":{},"sourceType":"module"}